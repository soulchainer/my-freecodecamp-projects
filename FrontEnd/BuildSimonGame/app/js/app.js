!function t(e,r,n){function a(o,u){if(!r[o]){if(!e[o]){var s="function"==typeof require&&require;if(!u&&s)return s(o,!0);if(i)return i(o,!0);var c=new Error("Cannot find module '"+o+"'");throw c.code="MODULE_NOT_FOUND",c}var l=r[o]={exports:{}};e[o][0].call(l.exports,function(t){var r=e[o][1][t];return a(r?r:t)},l,l.exports,t,e,r,n)}return r[o].exports}for(var i="function"==typeof require&&require,o=0;o<n.length;o++)a(n[o]);return a}({1:[function(t,e,r){"use strict";!function(){var t=function(){function t(t){function e(){t.classList.add("pushed")}return e}function e(t){function e(){t.classList.remove("pushed")}return e}function r(t){t.classList.remove("pushed")}function n(r){var n=r.id;b[n]=x.createInstance(n);var a=b[n];a.on("succeeded",t(h[n])),a.on("complete",e(h[n]))}function a(){return 0===A.mode?20:1/0}function i(){return String(Math.floor(4*Math.random()))}function o(t){switch(t.target.id){case"start":A.started?p():A.start();break;case"strict":A.strict?(A.strict=!1,C.classList.remove("pushed"),M.textContent=""):(A.strict=!0,C.classList.add("pushed"),M.textContent="(Strict)");break;default:A.mode=A.mode===P.length-1?0:A.mode+1,B.textContent=P[A.mode],A.turns=a()}}function u(t){t.hasAttribute("disabled")&&t.removeAttribute("disabled")}function s(t){t.hasAttribute("disabled")||t.setAttribute("disabled","true")}function c(t){if(A.on=A.on?!1:!0,A.on){O.textContent="On",L.classList.add("right");for(var e=[T,C,k],r=0;r<e.length;r++){var n=e[r];n.addEventListener("click",o)}}else O.textContent="Off",L.classList.remove("right"),m()}function l(){O.textContent="YOU MISS!!",A.strict?p():(A.playerMiss=!0,A.turn--,window.setTimeout(A.cpuTurn,200))}function d(t){var e=t.target.getAttribute("data-btn"),r=b[e];r.play(),r.on("complete",function(){if(e===A.taps[A.currentPlayerTap]){if(A.currentPlayerTap++,A.currentPlayerTap===A.turn){var t=!0,r=!1,n=void 0;try{for(var a,i=h[Symbol.iterator]();!(t=(a=i.next()).done);t=!0){var o=a.value;o.removeEventListener("click",d)}}catch(u){r=!0,n=u}finally{try{!t&&i["return"]&&i["return"]()}finally{if(r)throw n}}window.setTimeout(A.cpuTurn,200)}}else{var s=!0,c=!1,f=void 0;try{for(var v,m=h[Symbol.iterator]();!(s=(v=m.next()).done);s=!0){var o=v.value;o.removeEventListener("click",d)}}catch(u){c=!0,f=u}finally{try{!s&&m["return"]&&m["return"]()}finally{if(c)throw f}}l()}},null,!0)}function f(){var t=arguments.length<=0||void 0===arguments[0]?"--":arguments[0];S.textContent=t}function v(){window.clearInterval(A.cpuInterval),A.cpuInterval=null,x.stop(),h.forEach(r);var t=!0,e=!1,n=void 0;try{for(var a,i=h[Symbol.iterator]();!(t=(a=i.next()).done);t=!0){var o=a.value;o.removeEventListener("click",d)}}catch(u){e=!0,n=u}finally{try{!t&&i["return"]&&i["return"]()}finally{if(e)throw n}}f(),A.turn=0,A.taps=[],A.currentPlayerTap=null,A.playerMiss=!1}function m(){v();for(var t=[T,C],e=0;e<t.length;e++){var r=t[e];r.removeEventListener("click",o)}A.on=!1,A.started=!1,k.addEventListener("click",o)}function p(){v(),A.on=!0,A.start()}for(var h=[],y=[0,1,2,3],g=0;g<y.length;g++){var E=y[g];h[E]=document.getElementById("tap"+E)}var I="/assets/audio/",w=[{id:"0",src:"tap0.ogg"},{id:"1",src:"tap1.ogg"},{id:"2",src:"tap2.ogg"},{id:"3",src:"tap3.ogg"}],x=createjs.Sound;x.alternateExtensions=["mp3"],x.on("fileload",n),x.registerSounds(w,I);var b=[],L=document.getElementById("power"),T=document.getElementById("start"),C=document.getElementById("strict"),k=document.getElementById("modes"),S=document.getElementById("led"),B=document.getElementById("mode-label"),M=document.getElementById("strict-label"),O=document.getElementById("status"),P=["Normal","No limit"];L.addEventListener("click",c);var A=this;this.cpuInterval=null,this.on=!1,this.mode=0,this.strict=!1,this.started=!1,this.turn=0,this.turns=a(),this.start=function(){k.removeEventListener("click",o),A.started=!0,A.cpuTurn()},this.taps=[],this.currentPlayerTap=null,this.playerMiss=!1,this.cpuTurn=function(){function t(){b[A.taps[e]].play(),e++,e>=A.turn&&(window.clearInterval(A.cpuInterval),A.cpuInterval=null,window.setTimeout(A.playerTurn,400))}if(A.turn++,A.gameEnded())return void(O.textContent="YOU WIN!!");O.textContent="CPU turn",A.playerMiss&&A.taps.length||(A.taps.push(i()),f(A.turn)),A.playerMiss=!1;var e=0;h.forEach(s),A.cpuInterval=window.setInterval(t,600,A.cpuInterval)},this.playerTurn=function(){O.textContent="Your turn",h.forEach(u);A.turn;A.currentPlayerTap=0;var t=!0,e=!1,r=void 0;try{for(var n,a=h[Symbol.iterator]();!(t=(n=a.next()).done);t=!0){var i=n.value;i.addEventListener("click",d)}}catch(o){e=!0,r=o}finally{try{!t&&a["return"]&&a["return"]()}finally{if(e)throw r}}},this.gameEnded=function(){return A.turn>A.turns}};new t}()},{}]},{},[1]);
//# sourceMappingURL=app.js.map
