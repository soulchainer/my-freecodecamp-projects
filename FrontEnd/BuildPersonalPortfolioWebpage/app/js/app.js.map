{"version":3,"sources":["app.js"],"names":["debounce","func","wait","immediate","timeout","context","this","args","arguments","later","apply","callNow","clearTimeout","setTimeout","_slicedToArray","sliceIterator","arr","i","_arr","_n","_d","_e","undefined","_s","_i","Symbol","iterator","next","done","push","value","length","err","Array","isArray","Object","TypeError","smoothScroll","time","animate","e","elem","btns","target","id","to","offsetTop","from","window","scrollY","start","Date","getTime","timer","setInterval","step","Math","min","scrollTo","clearInterval","onMarkerClick","openPopup","toggleFoldedMenu","folded","$menuMobileContainer","attr","$sectionLinks","on","off","toggleClassAllocationNodeList","nodeTarget","nodeList","className","hasClass","removeClass","addClass","fireActionOnScroll","scrollPos","pageY","currentTarget","pageYOffset","sections","get","Number","isNaN","home","about","skills","$chartBars","projects","contact","btn-home","$","btn-about","btn-skills","btn-projects","btn-contact","$paths","map","Vivus","type","duration","pathTimingFunction","LINEAR","animTimingFunction","L","center","doubleClickZoom","dragging","scrollWheelZoom","zoom","tileLayer","attribution","maxZoom","accessToken","addTo","Icon","Default","imagePath","marker","bindPopup","addEventListener","$contactWays","contactForm","append","$btns","$mobilemenu","_map","section","_map2","Map","forEach","set","fireOnScroll","scrollCarousel","preventDefault","degs","deltaY","$carousel","css","autoplay","src","alt","$carouselControl","$carouselScrollIcons","toggleClass","carousel","document","getElementById","hammer","Hammer","Manager","add","Swipe","direction","DIRECTION_HORIZONTAL","threshold"],"mappings":"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","file":"app.js","sourcesContent":["function debounce(func, wait, immediate) {\n  // taken from Underscore.js\n\tvar timeout;\n\treturn function() {\n\t\tvar context = this, args = arguments;\n\t\tvar later = function() {\n\t\t\ttimeout = null;\n\t\t\tif (!immediate) {\n        func.apply(context, args);\n      }\n\t\t};\n\t\tvar callNow = immediate && !timeout;\n\t\tclearTimeout(timeout);\n\t\ttimeout = setTimeout(later, wait);\n\t\tif (callNow) {\n      func.apply(context, args);\n    }\n\t};\n}\n\n(function(){\n  var btns = {'btn-home': $('#home'),\n            'btn-about': $('#about'),\n            'btn-skills': $('#skills'),\n            'btn-projects': $('#projects'),\n            'btn-contact': $('#contact')\n            };\n\n  function smoothScroll(time) {\n    function animate(e) {\n      // smooth scrolling from @rahul_send89 function\n      // http://stackoverflow.com/a/26094310/1405004\n      var elem = btns[e.target.id][0];\n      var to = elem.offsetTop;\n      var from = window.scrollY;\n      var start = new Date().getTime(),\n          timer = setInterval(function() {\n            var step = Math.min(1,(new Date().getTime()-start)/time);\n                window.scrollTo(0,(from+step*(to-from))+1);\n                if( step === 1){\n                  clearInterval(timer);\n                }\n          },25);\n          window.scrollTo(0,(from+1));\n    }\n    return animate;\n  }\n\n  // «¡Hola!» svg drawing animation\n  var $paths = $('#paths');\n  var greeting = new Vivus('greeting',  {\n    type: \"oneByOne\",\n    duration: 225,\n    pathTimingFunction: Vivus.LINEAR,\n\t\tanimTimingFunction: Vivus.LINEAR\n  }, function () {\n    $paths.addClass('drawn');\n  });\n\n  function onMarkerClick(e) {\n      e.target.openPopup();\n  }\n\n  {\n    // render the map of contact section\n    let map = L.map('map', {\n      center: [37.9410106, -1.1398814],\n      doubleClickZoom: 'center',\n      dragging: false,\n      scrollWheelZoom: false,\n      zoom: 11\n    });\n    L.tileLayer('https://api.tiles.mapbox.com/v4/{id}/{z}/{x}/{y}.png?access_token=pk.eyJ1IjoianVhbnJpcWdvbiIsImEiOiJjaWs5MGR2bTAwMDA4d2xsdjNwOXQ3eXQ1In0.Y7PbFkq-Wxa2Kn5O1CWgUg', {\n      attribution: 'Map data &copy; <a href=\"http://openstreetmap.org\">OpenStreetMap</a> contributors, <a href=\"http://creativecommons.org/licenses/by-sa/2.0/\">CC-BY-SA</a>, Imagery © <a href=\"http://mapbox.com\">Mapbox</a>',\n      maxZoom: 18,\n      id: 'juanriqgon.p2ln61p7',\n      accessToken: 'pk.eyJ1IjoianVhbnJpcWdvbiIsImEiOiJjaWs5MGR2bTAwMDA4d2xsdjNwOXQ3eXQ1In0.Y7PbFkq-Wxa2Kn5O1CWgUg'\n    }).addTo(map);\n    L.Icon.Default.imagePath = '../assets/images';\n    let marker = L.marker([37.9410106, -1.1398814]).addTo(map);\n    marker.bindPopup(\"I live around here.\");\n    marker.addEventListener('click', onMarkerClick);\n  }\n\n  // render the contact form\n  var $contactWays = $('#contact-ways');\n  var contactForm = '<form class=\"contact-form\" action=\"http://pooleapp.com/stash/52a1c0eb-dcc6-45b9-8923-73309fbb729b/\" method=\"post\">\\n\\t<input type=\"hidden\" name=\"redirect_to\" value=\"{YOUR-THANKS-PAGE}\" />\\n\\t<p>\\n\\t\\t<label for=\"name\">Name\\n\\t\\t\\t<input class=\"contact-field\" type=\"text\" name=\"name\" id=\"name\" placeholder=\"What\\'s your name?\" />\\n\\t\\t</label>\\n\\t</p>\\n\\t<p>\\n\\t\\t<label for=\"e-mail\">E-mail\\n\\t\\t\\t<input class=\"contact-field\" type=\"email\" name=\"email\" id=\"email\" placeholder=\"An email to answer you\">\\n\\t\\t</label>\\n\\t</p>\\n\\t<p>\\n\\t\\t<label for=\"message\">Message\\n\\t\\t\\t<textarea class=\"message\" id=\"message\" name=\"message\" rows=\"5\" placeholder=\"Your message\"></textarea>\\n\\t\\t</label>\\n\\t</p>\\n\\t<p>\\n\\t\\t<input class=\"submit\" type=\"submit\" value=\"Submit\" />\\n\\t</p>\\n</form>';\n  $contactWays.append(contactForm);\n\n  // smooth scrolling\n  {\n    let $btns = $('.nav-link');\n    $btns.on('click', smoothScroll(200));\n  }\n\n  // menu mobile\n  var $mobilemenu = $('#mobile-menu');\n  var $menuMobileContainer = $('#navbar-mobile-menu-container');\n  // sectionsLinks used in toggleFoldedMenu and fireActionOnScroll\n  var $sectionLinks = $('.nav-link');\n  var [home, about, skills, projects, contact] = ['home', 'about', 'skills', 'projects', 'contact'].map(section => $('#btn-' + section));\n\n  function toggleFoldedMenu() {\n    var folded = $menuMobileContainer.attr('data-folded');\n    if (folded === 'true') {\n      $menuMobileContainer.attr('data-folded', 'false');\n      $sectionLinks.on('click', toggleFoldedMenu);\n    } else {\n      $menuMobileContainer.attr('data-folded', 'true');\n      $sectionLinks.off('click', toggleFoldedMenu);\n    }\n  }\n\n  $mobilemenu.on('click', toggleFoldedMenu);\n\n  // Fire animations and update navbar when scroll to the proper section\n  var sections = new Map();\n  [\"home\", \"about\", \"skills\", \"projects\", \"contact\"].forEach(section => sections.set(section, $('#' + section)[0].offsetTop));\n  var $chartBars = $('.chart-bar');\n\n  function toggleClassAllocationNodeList(nodeTarget, nodeList, className) {\n    // remove «className» from other nodes of nodeList and add it to nodeTarget\n    if (!nodeTarget.hasClass(className)) {\n        nodeList.removeClass(className);\n        nodeTarget.addClass(className);\n      }\n  }\n\n  function fireActionOnScroll(e) {\n    var scrollPos = (e.pageY)? e.pageY + 100: e.currentTarget.pageYOffset + 100;\n    if ((scrollPos < sections.get('about')) || Number.isNaN(scrollPos)) {\n      // do something in home\n      toggleClassAllocationNodeList(home, $sectionLinks, 'current-section');\n    } else if (scrollPos < sections.get('skills')) {\n      // do something in about\n      toggleClassAllocationNodeList(about, $sectionLinks, 'current-section');\n    } else if (scrollPos < sections.get('projects')) {\n      // do something in skills\n      toggleClassAllocationNodeList(skills, $sectionLinks, 'current-section');\n      $chartBars.addClass('animate-bar');\n    } else if (scrollPos < sections.get('contact')) {\n      // do something in projects\n      toggleClassAllocationNodeList(projects, $sectionLinks, 'current-section');\n    } else {\n      // do something in contact\n      toggleClassAllocationNodeList(contact, $sectionLinks, 'current-section');\n    }\n  }\n\n  var fireOnScroll = debounce(fireActionOnScroll, 100);\n\n  $(window).on('scroll', fireOnScroll);\n\n  // carousel\n  {\n    let autoplay = true;\n    let src, alt;\n    let $carouselControl = $('#carousel-control-btn');\n    let $carousel = $('#carousel');\n    let $carouselScrollIcons = $('.carousel-scroll-icon')\n    let degs = 0;\n    function scrollCarousel(e) {\n      e.preventDefault();\n      degs = ((e.deltaY < 0)? degs + 10: degs - 10);\n      $carousel.css('transform', 'rotateY(-' + degs +'deg)');\n    }\n    // carousel control toggle\n    $carouselControl.on('click', function() {\n      autoplay = (autoplay)? false: true;\n      $carousel.toggleClass('carousel-animation');\n\n      if(autoplay) {\n        src = 'assets/images/pause.svg';\n        alt = 'Pause';\n        $carousel.off('wheel', scrollCarousel);\n      } else {\n        src = 'assets/images/play.svg';\n        alt = 'Play';\n        $carousel.on('wheel', scrollCarousel);\n      }\n      $carouselControl.attr({'src': src, 'alt': alt});\n      $carouselScrollIcons.toggleClass('hide');\n    });\n\n    // carousel manual pan\n    let carousel = document.getElementById('carousel');\n    let hammer = new Hammer.Manager(carousel);\n\n    hammer.add( new Hammer.Swipe({direction: Hammer.DIRECTION_HORIZONTAL, threshold: 10}));\n    hammer.on('swiperight', function(e) {\n        degs -= 60;\n        $carousel.css('transform', 'rotateY(-' + degs + 'deg)');\n    });\n    hammer.on('swipeleft', function(e) {\n      degs += 60;\n      $carousel.css('transform', 'rotateY(-' + degs + 'deg)');\n    });\n  }\n})();"],"sourceRoot":"/source/"}