{"version":3,"sources":["app.js"],"names":["debounce","func","wait","immediate","timeout","context","this","args","arguments","later","apply","callNow","clearTimeout","setTimeout","hasClass","el","className","classList","contains","indexOf","RegExp","test","addClass","add","removeClass","remove","replace","_slicedToArray","sliceIterator","arr","i","_arr","_n","_d","_e","undefined","_s","_i","Symbol","iterator","next","done","push","value","length","err","Array","isArray","Object","TypeError","smoothScroll","time","animate","e","elem","btns","target","id","to","offsetTop","from","window","scrollY","start","Date","getTime","timer","setInterval","step","Math","min","scrollTo","clearInterval","onMarkerClick","openPopup","toggleFoldedMenu","folded","menuMobileContainer","getAttribute","setAttribute","toggleClassAllocationNodeList","nodeTarget","nodeList","prototype","forEach","call","fireActionOnScroll","scrollPos","pageY","sections","get","home","sectionsLinks","about","skills","chartBars","projects","contact","btn-home","document","getElementById","btn-about","btn-projects","btn-contact","paths","map","Vivus","type","duration","pathTimingFunction","LINEAR","animTimingFunction","L","center","doubleClickZoom","dragging","scrollWheelZoom","zoom","tileLayer","attribution","maxZoom","accessToken","addTo","Icon","Default","imagePath","marker","bindPopup","addEventListener","contactWays","contactForm","insertAdjacentHTML","_btns","querySelectorAll","mobilemenu","Map","section","set","_sectionsLinks","fireOnScroll"],"mappings":"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","file":"app.js","sourcesContent":["function debounce(func, wait, immediate) {\n  // taken from Underscore.js\n\tvar timeout;\n\treturn function() {\n\t\tvar context = this, args = arguments;\n\t\tvar later = function() {\n\t\t\ttimeout = null;\n\t\t\tif (!immediate) {\n        func.apply(context, args);\n      }\n\t\t};\n\t\tvar callNow = immediate && !timeout;\n\t\tclearTimeout(timeout);\n\t\ttimeout = setTimeout(later, wait);\n\t\tif (callNow) {\n      func.apply(context, args);\n    }\n\t};\n}\n\nfunction hasClass(el, className) {\n  if (el.classList) {\n    return el.classList.contains(className);\n  } else {\n    return el.className.indexOf(className) !== new RegExp('(^| )' + className + '( |$)', 'gi').test(el.className);\n  }\n}\nfunction addClass(el, className) {\n  if (el.classList) {\n    if (!hasClass(el, className)) {\n      el.classList.add(className);\n    }\n  } else {\n    el.className += ' ' + className;\n  }\n}\n\nfunction removeClass(el, className) {\n  if (hasClass(el, className)) {\n    if (el.classList) {\n        el.classList.remove(className);\n    } else {\n      el.className.replace(new RegExp('(^| )' + className + '( |$)', 'g'), '');\n    }\n  }\n}\n\n\n(function(){\n  var btns = {'btn-home': document.getElementById('home'),\n            'btn-about': document.getElementById('about'),\n            'btn-projects': document.getElementById('projects'),\n            'btn-contact': document.getElementById('contact')\n            };\n  function smoothScroll(time) {\n    function animate(e) {\n      // smooth scrolling from @rahul_send89 function\n      // http://stackoverflow.com/a/26094310/1405004\n      var elem = btns[e.target.id];\n      var to = elem.offsetTop;\n      var from = window.scrollY;\n      var start = new Date().getTime(),\n          timer = setInterval(function() {\n            var step = Math.min(1,(new Date().getTime()-start)/time);\n                window.scrollTo(0,(from+step*(to-from))+1);\n                if( step === 1){\n                  clearInterval(timer);\n                }\n          },25);\n          window.scrollTo(0,(from+1));\n    }\n    return animate;\n  }\n\n  // «¡Hola!» svg drawing animation\n  var paths = document.getElementById('paths');\n  var greeting = new Vivus('greeting',  {\n    type: \"oneByOne\",\n    duration: 225,\n    pathTimingFunction: Vivus.LINEAR,\n\t\tanimTimingFunction: Vivus.LINEAR\n  }, function () {\n    paths.classList.add('drawn');\n  });\n\n  function onMarkerClick(e) {\n      e.target.openPopup();\n  }\n\n  {\n    // render the map of contact section\n    let map = L.map('map', {\n      center: [37.9410106, -1.1398814],\n      doubleClickZoom: 'center',\n      dragging: false,\n      scrollWheelZoom: false,\n      zoom: 11\n    });\n    L.tileLayer('https://api.tiles.mapbox.com/v4/{id}/{z}/{x}/{y}.png?access_token=pk.eyJ1IjoianVhbnJpcWdvbiIsImEiOiJjaWs5MGR2bTAwMDA4d2xsdjNwOXQ3eXQ1In0.Y7PbFkq-Wxa2Kn5O1CWgUg', {\n      attribution: 'Map data &copy; <a href=\"http://openstreetmap.org\">OpenStreetMap</a> contributors, <a href=\"http://creativecommons.org/licenses/by-sa/2.0/\">CC-BY-SA</a>, Imagery © <a href=\"http://mapbox.com\">Mapbox</a>',\n      maxZoom: 18,\n      id: 'juanriqgon.p2ln61p7',\n      accessToken: 'pk.eyJ1IjoianVhbnJpcWdvbiIsImEiOiJjaWs5MGR2bTAwMDA4d2xsdjNwOXQ3eXQ1In0.Y7PbFkq-Wxa2Kn5O1CWgUg'\n    }).addTo(map);\n    L.Icon.Default.imagePath = '../assets/images';\n    let marker = L.marker([37.9410106, -1.1398814]).addTo(map);\n    marker.bindPopup(\"I live around here.\");\n    marker.addEventListener('click', onMarkerClick);\n  }\n\n  // render the contact form\n  var contactWays = document.getElementById('contact-ways');\n  var contactForm = '<form class=\"contact-form\" action=\"http://pooleapp.com/stash/52a1c0eb-dcc6-45b9-8923-73309fbb729b/\" method=\"post\">\\n\\t<input type=\"hidden\" name=\"redirect_to\" value=\"{YOUR-THANKS-PAGE}\" />\\n\\t<p>\\n\\t\\t<label for=\"name\">Name\\n\\t\\t\\t<input class=\"contact-field\" type=\"text\" name=\"name\" id=\"name\" placeholder=\"What\\'s your name?\" />\\n\\t\\t</label>\\n\\t</p>\\n\\t<p>\\n\\t\\t<label for=\"e-mail\">E-mail\\n\\t\\t\\t<input class=\"contact-field\" type=\"email\" name=\"email\" id=\"email\" placeholder=\"An email to answer you\">\\n\\t\\t</label>\\n\\t</p>\\n\\t<p>\\n\\t\\t<label for=\"message\">Message\\n\\t\\t\\t<textarea class=\"message\" id=\"message\" name=\"message\" rows=\"5\" placeholder=\"Your message\"></textarea>\\n\\t\\t</label>\\n\\t</p>\\n\\t<p>\\n\\t\\t<input class=\"submit\" type=\"submit\" value=\"Submit\" />\\n\\t</p>\\n</form>';\n  contactWays.insertAdjacentHTML('beforeend', contactForm);\n\n  // smooth scrolling\n  {\n    let btns = document.querySelectorAll('.nav-link');\n    for (let i = 0; i < btns.length; i++) {\n      btns[i].addEventListener('click', smoothScroll(200));\n    }\n  }\n\n  // menu mobile\n  var mobilemenu = document.getElementById('mobile-menu');\n  var menuMobileContainer = document.getElementById('navbar-mobile-menu-container');\n  function toggleFoldedMenu() {\n    var folded = menuMobileContainer.getAttribute('data-folded');\n    if (folded === 'true') {\n      menuMobileContainer.setAttribute('data-folded', 'false');\n      return;\n    }\n    menuMobileContainer.setAttribute('data-folded', 'true');\n  }\n\n  mobilemenu.addEventListener('click', toggleFoldedMenu);\n\n  // Fire animations and update navbar when scroll to the proper section\n  var sections = new Map();\n  [\"home\", \"about\", \"skills\", \"projects\", \"contact\"].forEach(section => sections.set(section, document.getElementById(section).offsetTop));\n  var chartBars = document.querySelectorAll('.chart-bar');\n  var sectionsLinks = document.querySelectorAll('.nav-link');\n  var [home, about, skills, projects, contact] = sectionsLinks;\n\n  function toggleClassAllocationNodeList(nodeTarget, nodeList, className) {\n    // remove «className» from other nodes of nodeList and add it to nodeTarget\n    if (!hasClass(nodeTarget, className)) {\n        Array.prototype.forEach.call(nodeList, el=>removeClass(el, className));\n      }\n      addClass(nodeTarget, className);\n  }\n\n  function fireActionOnScroll(e) {\n    var scrollPos = e.pageY;\n    if (scrollPos < sections.get('about')) {\n      // do something in home\n      toggleClassAllocationNodeList(home, sectionsLinks, 'current-section');\n    } else if (scrollPos < sections.get('skills')) {\n      // do something in about\n      toggleClassAllocationNodeList(about, sectionsLinks, 'current-section');\n    } else if (scrollPos < sections.get('projects')) {\n      // do something in skills\n      toggleClassAllocationNodeList(skills, sectionsLinks, 'current-section');\n      Array.prototype.forEach.call(chartBars, el => addClass(el, 'animate-bar'));\n    } else if (scrollPos < sections.get('contact')) {\n      // do something in projects\n      toggleClassAllocationNodeList(projects, sectionsLinks, 'current-section');\n    } else {\n      // do something in contact\n      toggleClassAllocationNodeList(contact, sectionsLinks, 'current-section');\n    }\n  }\n\n  var fireOnScroll = debounce(fireActionOnScroll, 100);\n\n  window.addEventListener('scroll', fireOnScroll);\n})();"],"sourceRoot":"/source/"}